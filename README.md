# Сервис для приема данных от ТОО ПКБ

Данный репозитарии содержит код, который были написан и протестирован ТОО ПКБ в рамках проекта FCB Notifier.
Вы можете использовать данный код для развертывания сервиса на вашей стороне для приема сообщении от ТОО ПКБ.

Имеется примеры на 3 языках:
- [Golang](https://github.com/FirstCreditBureau/golang-fcb-notifier)
- [Python](https://github.com/FirstCreditBureau/python-fcb-notifier)
- [Java](https://github.com/FirstCreditBureau/java-fcb-notifier)

## О сервисе FCB Notifier

FCB Notifier - проект для отправки сообщения клиентам ТОО ПКБ.
Сообщения содержать в себе отработанные результаты сервисов ПКБ, которые работают в асинхронном режиме.
Сообщение будут отправляться на URL адрес (Endpoint) сервиса созданной с помощью данной программы или созданной отдельно в виде POST запроса.

## Безопасность

В данном коде отсутствует способы авторизации на ваш сервис со стороны FCB Notifier.
Этот момент должен решаться на вашей стороне.
Если ваша компания все же будет использовать какой-либо вид авторизации, то просим вас сообщить нам об этом по другим каналам связи, чтобы мы смогли настроить вашу авторизацию в код FCB Notifier. 

Если у вашей компании пока отсутствует система авторизации, то вы можете открыть пока только порт сервера, где находиться ваш сервис, на наш IP, которого вы также вы также можете запросить по другим каналам связи.

## HTTP

Ваш URL адрес (Endpoint) должен уметь принимать следующий вид запроса:

### Request

```
POST /endpoint HTTP/1.1
Host: 127.0.0.1:9090
Content-Type: application/json

{
    "code": "<code>",
    "proxy_url": "<proxy_url>",
    "filename": "<filename>",
    "checksum" : "<checksum>"
}
```

### Response

```
Status: 202 Accepted
Content-Type: application/json

{
    "sha256": "<hash-of-message>"
}
```

## Запуск на локальном компьютере программиста организации клиентов ПКБ

Для тестирование программы на вашей стороне, можно использовать программы http туннелирование вроде https://ngrok.com/, конечно, предварительно согласовав с начальством и с департаментом безопасности.

Но имеется также способ заливки программы на внешний деплой сервера вроде heroku.com, но в этом случае вам понадобиться как то отлавливать сообщение ПКБ и обрабатывать их без подвязки к вашей организации.